(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[436],{2045:function(e,t,n){Promise.resolve().then(n.bind(n,7519))},7519:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var c=n(7437),i=n(2265),r=n(5033);n(2312);let o=["#eccc68","#ff7f50","#ff6b81","#7bed9f","#5352ed","#a4b0be","#dfe4ea","#2ed573","#1e90ff","#3742fa","#ff4757","#ff6348","#ffa502","#eccc68","#ff7f50","#ff6b81","#7bed9f","#5352ed","#a4b0be","#dfe4ea","#2ed573","#1e90ff","#3742fa","#ff4757","#ff6348","#ffa502"];var s=function(e){let{choices:t}=e,[n,s]=(0,i.useState)(!1),[l,a]=(0,i.useState)(!1),f=(0,i.useRef)(null),u=(0,i.useRef)(0),h=t.length,d=()=>{let e=[];for(let n=0;n<h;n++){let c=t[n].weight;for(let t=0;t<c;t++)e.push(n)}(0,r.Sy)(e);let n=Math.floor(Math.random()*e.length);return e[n]},x=()=>{let e=d(),t=360/h;return[e,720+e*t+Math.random()*t+360*Math.floor(u.current/360)]},m=()=>{let[e,n]=x();f.current&&(a(!0),f.current.style.transform="rotate(".concat(n,"deg)"),setTimeout(()=>{a(!1),u.current=n,window.alert("已为您自动选择任务--".concat(t[e].text,"，去完成它吧！\uD83C\uDFC6\uD83C\uDFC6\uD83C\uDFC6"))},3e3))};return(0,c.jsxs)("div",{className:"wheel-box",children:[(0,c.jsxs)("div",{className:"wheel",ref:f,children:[(()=>{let e=[],n=360/h,i=180-n;if(h){if(i<0)return(0,c.jsx)("div",{children:(0,c.jsx)("div",{className:"slice",style:{backgroundColor:"#eccc68",width:"100%",height:"100%"},children:(0,c.jsx)("div",{className:"slice-inner",style:{lineHeight:"400px"},children:t[0].text})})});if(0===i){for(let n=0;n<2;n++){let i=o[n];e.push((0,c.jsx)("div",{className:"slice",style:{transform:"translateY(-50%) rotate(-".concat(180*n,"deg)"),backgroundColor:i,width:"100%",height:"100%"},children:(0,c.jsx)("div",{className:"slice-inner",style:{paddingTop:"300px"},children:t[n].text})},"slice_k".concat(n)))}return e}if(i<90){for(let s=0;s<h;s++){let l=o[s],a=250*Math.tan((0,r.M4)(i/2));e.push((0,c.jsx)("div",{className:"slice",style:{transform:"rotate(-".concat(n*s+n/2,"deg)"),backgroundColor:l,width:500,height:2*a,left:-50,top:-a+(200-a),clipPath:"polygon(50% 0, 100% 50%, 50% 100%, 0 50%)"},children:(0,c.jsx)("div",{className:"slice-inner",style:{paddingTop:"".concat(a,"px")},children:t[s].text})},"slice_k".concat(s)))}return e}else if(i>=90){for(let s=0;s<h;s++){let l=o[s],a=200/Math.tan((0,r.M4)(i/2));e.push((0,c.jsx)("div",{className:"slice",style:{transform:"rotate(-".concat(n*s+n/2,"deg)"),backgroundColor:l,width:2*a,height:400,top:-200,left:200-a,clipPath:"polygon(50% 0, 100% 50%, 50% 100%, 0 50%)"},children:(0,c.jsx)("div",{className:"slice-inner",style:{paddingTop:"".concat(230,"px")},children:t[s].text})},"slice_k".concat(s)))}return e}}})(),n&&(0,c.jsx)("div",{className:"inner-line-x"}),n&&(0,c.jsx)("div",{className:"inner-line-y"})]}),(0,c.jsx)("div",{className:"target"}),(0,c.jsx)("div",{className:"inline-block py-1.5 px-3.5 ".concat(l?"bg-amber-200":"bg-amber-600","   text-white rounded choice-btn "),onClick:()=>{l||m()},children:"帮我选择"})]})};n(5788);let l={play:[{text:"玩1次",icon:"icon",weight:1},{text:"玩2次",icon:"icon",weight:1},{text:"玩3次",icon:"icon",weight:1}],test:[{text:"award-0",icon:"icon",weight:1},{text:"award-1",icon:"icon",weight:1},{text:"award-2",icon:"icon",weight:1}]};function a(){let[e,t]=(0,i.useState)([]),n=e=>{t(l[e])};return(0,i.useEffect)(()=>{t(l.test)},[]),(0,c.jsxs)("main",{className:"flex min-h-screen flex-col items-center justify-between p-32",children:[(0,c.jsx)(s,{choices:e}),(0,c.jsxs)("div",{children:[(0,c.jsx)("button",{className:"inline-block py-1.5 px-3.5  text-white bg-blue-500 rounded  choice-btn ",onClick:()=>n("test"),children:"Test Choice"}),(0,c.jsx)("button",{className:"inline-block py-1.5 px-3.5 text-white bg-blue-500 rounded ml-4 choice-btn",onClick:()=>n("play"),children:"Paly Choice"})]})]})}},5033:function(e,t,n){"use strict";function c(e,t){return"IMG"===e?"https://raw.githubusercontent.com/fhvknb/raw-assets/master/".concat(t,"/"):"https://raw.githubusercontent.com/fhvknb/raw-assets/master/json/".concat(t,".json")}function i(e,t,n){let c="";if(n){let e=new Date;e.setTime(e.getTime()+864e5*n),c="; expires="+e.toUTCString()}document.cookie=e+"="+(t||"")+c+"; path=/"}function r(){return document.cookie.includes("isLogin=1")}function o(e){if(!e||!e.length)return[];for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function s(e){if("number"!=typeof e)throw Error("数据错误");return Math.floor(Math.PI/180*e*100)/100}n.d(t,{Km:function(){return r},M4:function(){return s},Sy:function(){return o},d8:function(){return i},mc:function(){return c}})},5788:function(){},2312:function(){}},function(e){e.O(0,[153,971,23,744],function(){return e(e.s=2045)}),_N_E=e.O()}]);