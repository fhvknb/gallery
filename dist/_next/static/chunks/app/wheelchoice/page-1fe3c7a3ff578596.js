(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[436],{2045:function(e,t,n){Promise.resolve().then(n.bind(n,7577))},7577:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var c=n(7437),i=n(2265),r=n(5033);n(2312);let o=["#eccc68","#ff7f50","#ff6b81","#7bed9f","#5352ed","#a4b0be","#dfe4ea","#2ed573","#1e90ff","#3742fa","#ff4757","#ff6348","#ffa502","#eccc68","#ff7f50","#ff6b81","#7bed9f","#5352ed","#a4b0be","#dfe4ea","#2ed573","#1e90ff","#3742fa","#ff4757","#ff6348","#ffa502"];var s=function(e){let{choices:t}=e,[n,s]=(0,i.useState)(!1),[a,l]=(0,i.useState)(!1),f=(0,i.useRef)(null),d=(0,i.useRef)(0),h=t.length,u=()=>{let e=[];for(let n=0;n<h;n++){let c=t[n].weight;for(let t=0;t<c;t++)e.push(n)}(0,r.Sy)(e);let n=Math.floor(Math.random()*e.length);return e[n]},x=()=>{let e=u(),t=360/h;return[e,720+e*t+Math.random()*t+360*Math.floor(d.current/360)]},m=()=>{let[e,n]=x();f.current&&(l(!0),f.current.style.transform="rotate(".concat(n,"deg)"),setTimeout(()=>{l(!1),d.current=n,console.log("::::::成功命中（".concat(t[e].text,"）号任务"))},3e3))};return(0,c.jsxs)("div",{className:"wheel-box",children:[(0,c.jsxs)("div",{className:"wheel",ref:f,children:[(()=>{let e=[],n=360/h,i=180-n;if(h){if(i<0)return e;if(0===i){for(let n=0;n<2;n++){let i=o[n];e.push((0,c.jsx)("div",{className:"slice",style:{transform:"translateY(-50%) rotate(-".concat(180*n+90,"deg)"),backgroundColor:i,width:"100%",height:"100%"},children:(0,c.jsx)("div",{className:"slice-inner",style:{paddingTop:"300px"},children:t[n].text})},"slice_k".concat(n)))}return e}if(i<90){for(let s=0;s<h;s++){let a=o[s],l=250*Math.tan((0,r.M4)(i/2));e.push((0,c.jsx)("div",{className:"slice",style:{transform:"rotate(-".concat(n*s+n/2,"deg)"),backgroundColor:a,width:500,height:2*l,left:-50,top:-l+(200-l),clipPath:"polygon(50% 0, 100% 50%, 50% 100%, 0 50%)"},children:(0,c.jsx)("div",{className:"slice-inner",style:{paddingTop:"".concat(l,"px")},children:t[s].text})},"slice_k".concat(s)))}return e}if(i>=90){for(let s=0;s<h;s++){let a=o[s],l=200/Math.tan((0,r.M4)(i/2));e.push((0,c.jsx)("div",{className:"slice",style:{transform:"rotate(-".concat(n*s+n/2,"deg)"),backgroundColor:a,width:2*l,height:400,top:-200,left:200-l,clipPath:"polygon(50% 0, 100% 50%, 50% 100%, 0 50%)"},children:(0,c.jsx)("div",{className:"slice-inner",style:{paddingTop:"".concat(230,"px")},children:t[s].text})},"slice_k".concat(s)))}return e}}})(),n&&(0,c.jsx)("div",{className:"inner-line-x"}),n&&(0,c.jsx)("div",{className:"inner-line-y"})]}),(0,c.jsx)("div",{className:"target"}),(0,c.jsx)("div",{className:"inline-block py-1.5 px-3.5 ".concat(a?"bg-amber-200 cursor-not-allowed":"bg-amber-600 cursor-pointer","   text-white rounded choice-btn "),onClick:()=>{a||m()},children:"帮我选择"})]})},a=function(e){let{isOpen:t=!1,close:n}=e;return t&&(0,c.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.children})};n(5788);let l={play:[{text:"玩1次",icon:"icon",weight:33},{text:"玩2次",icon:"icon",weight:33},{text:"玩3次",icon:"icon",weight:33}],doOrNot:[{text:"做",icon:"icon",weight:50},{text:"不做",icon:"icon",weight:50}],test:[{text:"award-0",icon:"icon",weight:10},{text:"award-1",icon:"icon",weight:10},{text:"award-2",icon:"icon",weight:10},{text:"award-3",icon:"icon",weight:10}]};function f(){let[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{t(l.test)},[]),(0,c.jsxs)("main",{className:"flex min-h-screen justify-center",children:[(0,c.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,c.jsx)("div",{children:(0,c.jsx)("button",{className:"inline-block py-1.5 px-3.5 text-white bg-blue-500 rounded mb-12 choice-btn",onClick:()=>r(!0),children:"Change Choice"})}),(0,c.jsx)(s,{choices:e})]}),(0,c.jsx)(a,{isOpen:n,children:(0,c.jsx)("div",{className:"h-3/4",children:(0,c.jsxs)("div",{className:"bg-white p-4 rounded  text-base shadow-md",children:[(0,c.jsx)("label",{className:"",children:"抉择类型："}),(0,c.jsxs)("select",{className:"w-52  h-8 rounded border  border-gray-700",onChange:e=>{t(l[e.target.value]),r(!1)},children:[(0,c.jsx)("option",{value:"",children:"--Please choose--"}),(0,c.jsx)("option",{value:"doOrNot",children:"Choice"}),(0,c.jsx)("option",{value:"play",children:"Play"})]})]})})})]})}},5033:function(e,t,n){"use strict";function c(e,t){return"IMG"===e?"https://raw.githubusercontent.com/fhvknb/raw-assets/master/".concat(t,"/"):"https://raw.githubusercontent.com/fhvknb/raw-assets/master/json/".concat(t,".json")}function i(e,t,n){let c="";if(n){let e=new Date;e.setTime(e.getTime()+864e5*n),c="; expires="+e.toUTCString()}document.cookie=e+"="+(t||"")+c+"; path=/"}function r(){return document.cookie.includes("isLogin=1")}function o(e){if(!e||!e.length)return[];for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function s(e){if("number"!=typeof e)throw Error("数据错误");return Math.floor(Math.PI/180*e*100)/100}n.d(t,{Km:function(){return r},M4:function(){return s},Sy:function(){return o},d8:function(){return i},mc:function(){return c}})},5788:function(){},2312:function(){}},function(e){e.O(0,[153,971,23,744],function(){return e(e.s=2045)}),_N_E=e.O()}]);