(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[436],{2045:function(e,t,n){Promise.resolve().then(n.bind(n,7577))},7577:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(7437),c=n(2265),i=n(5033);n(2312);let o=["#eccc68","#ff7f50","#ff6b81","#7bed9f","#5352ed","#a4b0be","#dfe4ea","#2ed573","#1e90ff","#3742fa","#ff4757","#ff6348","#ffa502","#eccc68","#ff7f50","#ff6b81","#7bed9f","#5352ed","#a4b0be","#dfe4ea","#2ed573","#1e90ff","#3742fa","#ff4757","#ff6348","#ffa502"];var s=function(e){let{choices:t}=e,[n,s]=(0,c.useState)(!1),[l,a]=(0,c.useState)(!1),u=(0,c.useRef)(null),f=(0,c.useRef)(0),h=(0,c.useRef)(),d=t.length,x=()=>{let e=0,n=[];for(let r=0;r<d;r++){let c=t[r].weight;e+=c;let i=[];for(let e=0;e<c;e++)i.push(r);n.push(i)}let r=Math.floor(e/d),c=0,o=-1;for(let e=0;e<d;e++){let t=n[e],i=t.length;if(i<r)for(let e=0;e<r-i;e++)t.push(-1),c+=1;else i>r&&(t.splice(0,c),o=t[0])}let s=[];for(let e=0;e<d;e++){let t=n[e],r=t.length;for(let e=0;e<r;e++)t[e]<0&&(t[e]=o);s.push((0,i.Sy)(t))}return(0,i.Sy)(s),s},g=()=>{let e=x(),t=0;for(let n=0;n<d;n++)t=Math.max(e[n].length,t);let n=[];for(let r=0;r<t;r++)for(let t=0;t<d;t++)e[t].length&&(n.push(e[t][0]),e[t].shift());return n},m=()=>{if(!h.current)return -1;let e=Math.floor(Math.random()*h.current.length);return h.current[e]},p=()=>{let e=m(),t=360/d;return[e,720+e*t+Math.random()*t+360*Math.floor(f.current/360)]},b=()=>{let[e,n]=p();u.current&&(a(!0),u.current.style.transition="transform 3s cubic-bezier(0.2, 0.93, 0.43, 1)",u.current.style.transform="rotate(".concat(n,"deg)"),setTimeout(()=>{a(!1),f.current=n,window.alert("已为您自动选择任务--".concat(t[e].text,"，去完成它吧！\uD83C\uDFC6\uD83C\uDFC6\uD83C\uDFC6"))},3e3))};return(0,c.useEffect)(()=>{t.length&&(h.current=g(),u.current.style.transition="unset",u.current.style.transform="rotate(0deg)")},[t]),(0,c.useEffect)(()=>{},[]),(0,r.jsxs)("div",{className:"scale-75 sm:scale-100 wheel-box",children:[(0,r.jsxs)("div",{className:"wheel",ref:u,children:[(()=>{let e=[],n=360/d,c=180-n;if(d){if(c<0)return e;if(0===c){for(let n=0;n<2;n++){let c=o[n];e.push((0,r.jsx)("div",{className:"slice",style:{transform:"translateY(-50%) rotate(-".concat(180*n+90,"deg)"),backgroundColor:c,width:"100%",height:"100%"},children:(0,r.jsx)("div",{className:"slice-inner",style:{paddingTop:"300px"},children:t[n].text})},"slice_k".concat(n)))}return e}if(c<90){for(let s=0;s<d;s++){let l=o[s],a=250*Math.tan((0,i.M4)(c/2));e.push((0,r.jsx)("div",{className:"slice",style:{transform:"rotate(-".concat(n*s+n/2,"deg)"),backgroundColor:l,width:500,height:2*a,left:-50,top:-a+(200-a),clipPath:"polygon(50% 0, 100% 50%, 50% 100%, 0 50%)"},children:(0,r.jsx)("div",{className:"slice-inner",style:{paddingTop:"".concat(a,"px")},children:t[s].text})},"slice_k".concat(s)))}return e}if(c>=90){for(let s=0;s<d;s++){let l=o[s],a=200/Math.tan((0,i.M4)(c/2));e.push((0,r.jsx)("div",{className:"slice",style:{transform:"rotate(-".concat(n*s+n/2,"deg)"),backgroundColor:l,width:2*a,height:400,top:-200,left:200-a,clipPath:"polygon(50% 0, 100% 50%, 50% 100%, 0 50%)"},children:(0,r.jsx)("div",{className:"slice-inner",style:{paddingTop:"".concat(230,"px")},children:t[s].text})},"slice_k".concat(s)))}return e}}})(),n&&(0,r.jsx)("div",{className:"inner-line-x"}),n&&(0,r.jsx)("div",{className:"inner-line-y"})]}),(0,r.jsx)("div",{className:"target"}),(0,r.jsx)("div",{className:"inline-block py-1.5 px-3.5 ".concat(l?"bg-amber-200 cursor-not-allowed":"bg-amber-600 cursor-pointer","   text-white rounded choice-btn "),onClick:()=>{l||b()},children:"帮我选择"})]})},l=function(e){let{isOpen:t=!1,close:n}=e;return t&&(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",onClick:()=>{n&&n()},children:(0,r.jsx)("div",{onClick:e=>e.stopPropagation(),children:e.children})})};n(5788);let a={play:[{text:"玩1次",icon:"icon",weight:10},{text:"玩2次",icon:"icon",weight:10},{text:"玩3次",icon:"icon",weight:10}],doOrNot:[{text:"做",icon:"icon",weight:20},{text:"不做",icon:"icon",weight:20}],test:[{text:"award-0",icon:"icon",weight:10},{text:"award-1",icon:"icon",weight:10},{text:"award-2",icon:"icon",weight:10},{text:"award-3",icon:"icon",weight:10}]};function u(){let[e,t]=(0,c.useState)([]),[n,i]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{t(a.test)},[]),(0,r.jsxs)("main",{className:"flex min-h-screen justify-center",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center overflow-hidden",children:[(0,r.jsx)("div",{children:(0,r.jsx)("button",{className:"inline-block py-1.5 px-3.5 text-white bg-blue-500 rounded mb-12",onClick:()=>i(!0),children:"Change Choice"})}),(0,r.jsx)(s,{choices:e})]}),(0,r.jsx)(l,{isOpen:n,close:()=>i(!1),children:(0,r.jsxs)("div",{className:"bg-white p-4 rounded  text-base shadow-md",children:[(0,r.jsx)("label",{className:"",children:"抉择类型："}),(0,r.jsxs)("select",{className:"w-52  h-8 rounded border  border-gray-700",onChange:e=>{t(a[e.target.value]),i(!1)},children:[(0,r.jsx)("option",{value:"",children:"--Please choose--"}),(0,r.jsx)("option",{value:"doOrNot",children:"Choice"}),(0,r.jsx)("option",{value:"play",children:"Play"})]})]})})]})}},5033:function(e,t,n){"use strict";function r(e,t){return"IMG"===e?"https://raw.githubusercontent.com/fhvknb/raw-assets/master/".concat(t,"/"):"https://raw.githubusercontent.com/fhvknb/raw-assets/master/json/".concat(t,".json")}function c(e,t,n){let r="";if(n){let e=new Date;e.setTime(e.getTime()+864e5*n),r="; expires="+e.toUTCString()}document.cookie=e+"="+(t||"")+r+"; path=/"}function i(){return document.cookie.includes("isLogin=1")}function o(e){if(!e||!e.length)return[];for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function s(e){if("number"!=typeof e)throw Error("数据错误");return Math.floor(Math.PI/180*e*100)/100}n.d(t,{Km:function(){return i},M4:function(){return s},Sy:function(){return o},d8:function(){return c},mc:function(){return r}})},5788:function(){},2312:function(){}},function(e){e.O(0,[153,971,23,744],function(){return e(e.s=2045)}),_N_E=e.O()}]);